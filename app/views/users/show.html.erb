<% back_path = URI(request.referer).path %>

<div class="user" id="details">
   <h1>DJ: <%= @user.dj_name %></h1>
   <%= image_tag @user.avatar, class: "user-avatar" %>
</div>

<div class="user-collection">
   <% if current_user && (@user.id == current_user.id) %>
      <h2>Your Collection</h2>
   <% else %>
      <h2><%= @user.dj_name %>'s Collection</h2>
   <% end %>

   <div class="mixtapes-list">
      <h3>Display Mixtapes</h3>
      <%= render partial: 'my_mixtapes', :locals => { :collection => @user.mixtapes } %>
   </div>

   <div class="song-list">
      <h3>Display Songs</h3>
      <%= render partial: 'my_songs', :locals => { :collection => @user.songs }  %>
      </p>
   </div>
</div>

<%# Navigation %>
<div class="actions-bot">
   <h2>Actions:</h2>
   <%= link_to "<< Back", back_path %>
   <%= link_to "DJ List", users_path %>
   <% if !current_user %>
      <%# Nag for login %>
      <%= render partial: 'layouts/hey_dj' %> to start Mix.ing!</p>
   <% end %>
</div>
